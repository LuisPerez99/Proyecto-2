<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <title>Citas Aceptadas</title>
        <link rel="stylesheet" type="text/css" href="static/css/estilo.css" />
        <link rel="shortcut icon" href="#">
    </head>
    <body style="text-align: center;">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

        <div class="container" style="padding: 20px">
            <div id="contenedor-tabla">
                <h1>Citas</h1>
                <table class="fa-table table-striped" id="table">
                    <tr class="bg-info">
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Motivo</th>
                        <th>Doctor</th>
                    </tr>
                    <tbody id="tabla" class="center">
                    </tbody>
                </table>
            </div>
        </div>

        <script src="/static/scripts/main.js" type="text/javascript"></script>

        <script>
            let citas = {{ data | tojson}};
            let listaCitas = JSON.parse(citas)

            llenarTabla(listaCitas)

            function llenarTabla(data) {
                var tabla = document.getElementById('tabla')
    
                for (var i = 0; i < data.length; i++) {
                    var fila = `<tr>
                                     <td>${data[i].fecha}</td>
                                     <td>${data[i].hora}</td>
                                     <td>${data[i].motivo}</td>
                                     <td>${data[i].doctor}</td>
                                </tr>`
                    tabla.innerHTML += fila
                }
            }
        </script>
    </body>
</html>